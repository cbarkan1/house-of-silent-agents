The "old version" does not tell agents their position in the room.
Each agent only chooses to move "closer to" or "farther from" the other agent.
This works well for small models (e.g. llama3.2 3B) that have very poor spatial reasoning.